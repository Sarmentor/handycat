<div ng-controller="AceCtrl">
    <div ng-show="segmentState.completed" class="ace_editor target segment-finished-target frame" ng-click="reopen($index)">
        <p>{{segment.target}}</p>
    </div>
    <div ng-show="!segmentState.completed">
        <div class="content-card frame" ui-ace="{onLoad: aceLoaded}" ng-model="segment.target"></div>
        <div ng-show="isActive.active">
            <div class="pull-right">
                <div class="inline">
                    <button logger="copy-source-punctuation" ng-click="copySourcePunctuation($index)" tooltip="copy punctuation from source" tooltip-placement="bottom" ng-disabled="segmentState.completed" class="btn btn-primary cat-glyph" ng-show="session.showSmartButtons"><span class="glyphicon glyphicon-share-alt"></span></button>
                </div>
                <div class="inline">
                    <button logger="toggle-toolbar" ng-click="toggleToolbar()" tooltip="toggle toolbar" tooltip-placement="bottom" ng-disabled="segmentState.completed" class="btn btn-primary cat-glyph"><span class="glyphicon glyphicon-wrench"></span></button>
                </div>
                <div class="inline">
                    <button logger="remove-extra-whitespace" ng-click="removeExtraWhitespace()" tooltip="remove extra whitespace" tooltip-placement="bottom" ng-disabled="segmentState.completed" class="btn btn-primary cat-glyph"><span class="glyphicon glyphicon-flash"></span></button>
                </div>
                <div class="inline">
                    <button logger="clear-editor" ng-click="clearEditor()" tooltip="reject MT output" tooltip-placement="bottom" ng-disabled="segmentState.completed" class="btn btn-primary cat-glyph" ng-show="session.showSmartButtons"><span class="glyphicon glyphicon-remove"></span></button>
                </div>
                <div class="inline">
                    <button logger="segment-finished" ng-click="segmentFinished($index)" ng-disabled="segmentState.completed" class="btn btn-primary cat-glyph"><span class="glyphicon glyphicon-ok-sign"></span></button>
                </div>
            </div>
        </div>
    </div>
</div>