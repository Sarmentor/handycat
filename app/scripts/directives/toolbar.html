<!-- The tools for editing: glossary, concordance, edits -->
<!-- render and populate its fields dynamically -->
<div class="widget-area row">
    <tabset class="widget-wrapper col-xs-12">
        <tab heading="TM">
            <div class="search-result"
                 ng-repeat="tmMatch in tmMatches"
                 ng-click="insertText(tmMatch)"
                 ng-show="tmMatches.length > 0"
                    >
                <div class="row" ng-show="tmMatches.length > 0">
                    <div class="col-xs-5">{{tmMatch.source}}</div>
                    <div class="col-xs-5">{{tmMatch.target}}</div>
                    <div class="col-xs-2">{{tmMatch.provider.name}}</div>
                </div>
            </div>
            <div class="row" ng-show="!tmMatches || tmMatches.length === 0">
                <p class="col-xs-12">No TM match for: {{currentSourceText}}</p>
            </div>
        </tab>
        <tab heading="Glossary">
            <input type="text" ng-model="glossary.glossaryQuery" placeholder="Enter a search query..." class="query-box"/>
            <button ng-click="queryGlossary(glossary.glossaryQuery, sourceLang, targetLang)"
                    class="glossary-search btn btn-success"
            >
                <span class="glyphicon glyphicon-search"></span>
            </button>
          <div>SourceLang: {{sourceLang}} TargetLang: {{targetLang}}</div>
            <div class="search-result"
                 ng-repeat="glossaryMatch in glossaryMatches"
                 ng-click="insertText(glossaryMatch)"
                 ng-show="glossaryMatches"
                    >{{glossaryMatch}}</div>

            <!--<div ng-hide="glossaryMatches !== undefined"><p>Error: Unable to access the glossary service.</p></div>-->
            <!--<div ng-show="glossaryMatches.length === 0"><p>No matches found for term: <b>{{ glossary.glossaryQuery }}</b></p></div>-->
        </tab>
        <tab heading="Concordance" ng-click="">
            <input type="text" ng-model="concordanceQuery" placeholder="Enter a search query..." class="query-box" />
            <button ng-click="queryConcordancer(concordanceQuery, queryLang)"
                    class="glossary-search btn btn-success">
                <span class="glyphicon glyphicon-search"></span></button>
            <div class="btn-group">
                <button type="button" class="btn btn-primary lang-select" btn-radio="'{{document.sourceLang}}'"
                        ng-model="queryLang">{{document.sourceLang}}</button>
                <button type="button" class="btn btn-primary lang-select" btn-radio="'{{document.targetLang}}'"
                        ng-model="queryLang">{{document.targetLang}}</button>
            </div>
            <div class="search-result"
                 ng-repeat="concordanceMatch in concordanceMatches" ng-bind-html="concordanceMatch"
                 ng-hide="concordancerError"
                    ></div>

            <div ng-show="concordancerError"><p>Error: Unable to access the concordance service.</p></div>
        </tab>
    </tabset>
</div>

